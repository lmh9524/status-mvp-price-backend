# Environment for status-mvp-price-backend (systemd)
#
# Copy to: /etc/status-mvp-price-backend/status-mvp-price-backend.env
# Permissions:
#   sudo chown root:root /etc/status-mvp-price-backend/status-mvp-price-backend.env
#   sudo chmod 600 /etc/status-mvp-price-backend/status-mvp-price-backend.env
#
# NOTE: Do NOT commit real secrets.

# --- Runtime ---
PORT=3003

# --- Redis (required) ---
# Default app config uses redis://localhost:6379 if not set.
# REDIS_URL=redis://localhost:6379

# --- Price sources ---
# Recommended: CoinGecko Pro (enables /api/v1/prices/by-contract and improves coverage)
COINGECKO_PRO_API_KEY=REPLACE_ME

# Optional: allow public CoinGecko API when no Pro key (rate-limited)
# COINGECKO_ALLOW_PUBLIC=false

# Optional: extend/override CoinGecko symbol->id mapping without code changes
# Format: SYMBOL=id,SYMBOL2=id2
# COINGECKO_SYMBOL_ID_OVERRIDES=WETH=weth,WBTC=wrapped-bitcoin

# Optional: CoinMarketCap fallback for symbol quotes
# COINMARKETCAP_API_KEY=REPLACE_ME

# --- VEILX on-chain pricing (BSC PancakeSwap V2) ---
# Enable by setting BOTH:
# BSC_RPC_URL=https://bsc-dataseed1.binance.org
# VEILX_CONTRACT_ADDRESS=0x9C79B4a12eF8176B6a61142408A54Edf8336b0A6
#
# Optional overrides:
# PANCAKE_ROUTER_V2_ADDRESS=0x10ED43C718714eb63d5aA57B78B54704E256024E
# BSC_USDT_CONTRACT_ADDRESS=0x55d398326f99059fF775485246999027B3197955

# --- Social login auth (M1) ---
AUTH_ENABLED=true
AUTH_X_ENABLED=true
AUTH_TG_ENABLED=true
AUTH_SYNC_ENABLED=true
AUTH_BIND_ENABLED=true

AUTH_WEB3AUTH_ISSUER=https://auth.status-mvp.local
AUTH_WEB3AUTH_AUDIENCE=status-mvp
AUTH_WEB3AUTH_KEY_ID=status-mvp-auth-v1
# Optional: Web3Auth dashboard credentials (keep server-side; do NOT put in the mobile app).
# AUTH_WEB3AUTH_CLIENT_ID=
# AUTH_WEB3AUTH_CLIENT_SECRET=
# RSA private key PEM (required for stable JWKS in production)
# AUTH_WEB3AUTH_PRIVATE_KEY_PEM=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# Allowed callback redirect prefixes for app deep links (comma-separated).
# Required for deep-link login callbacks.
AUTH_APP_REDIRECT_ALLOWLIST=veilwallet://openlogin

AUTH_APP_JWT_ISSUER=status-mvp-price-backend
AUTH_APP_JWT_AUDIENCE=status-mvp-app
# MUST be long random string
# AUTH_APP_JWT_SECRET=replace-me-with-strong-secret

# X OAuth
# AUTH_X_CLIENT_ID=
# AUTH_X_CLIENT_SECRET=
# AUTH_X_REDIRECT_URI=
# AUTH_X_SCOPES=tweet.read users.read offline.access

# Telegram login
# AUTH_TG_BOT_TOKEN=
# AUTH_TG_AUTH_MAX_AGE_SECONDS=600

