server:
  port: ${PORT:3003}
  address: 0.0.0.0

spring:
  application:
    name: status-mvp-price-backend
  data:
    redis:
      url: ${REDIS_URL:redis://localhost:6379}

app:
  cache:
    priceTtlSeconds: ${PRICE_CACHE_TTL_SECONDS:120}
    requestTtlSeconds: ${REQUEST_CACHE_TTL_SECONDS:30}
  auth:
    enabled: ${AUTH_ENABLED:true}
    oneTimeCodeTtlSeconds: ${AUTH_ONE_TIME_CODE_TTL_SECONDS:60}
    oauthStateTtlSeconds: ${AUTH_OAUTH_STATE_TTL_SECONDS:600}
    web3authJwtTtlSeconds: ${AUTH_WEB3AUTH_JWT_TTL_SECONDS:300}
    accessTokenTtlSeconds: ${AUTH_ACCESS_TOKEN_TTL_SECONDS:900}
    refreshTokenTtlSeconds: ${AUTH_REFRESH_TOKEN_TTL_SECONDS:2592000}
    xEnabled: ${AUTH_X_ENABLED:true}
    tgEnabled: ${AUTH_TG_ENABLED:true}
    syncEnabled: ${AUTH_SYNC_ENABLED:true}
    bindEnabled: ${AUTH_BIND_ENABLED:true}
    metricsEnabled: ${AUTH_METRICS_ENABLED:true}
    appRedirectAllowlist: ${AUTH_APP_REDIRECT_ALLOWLIST:}
    web3auth:
      # Optional: Web3Auth dashboard clientId/clientSecret.
      # Not required for the current JWT verifier flow, but kept server-side for future use.
      clientId: ${AUTH_WEB3AUTH_CLIENT_ID:}
      clientSecret: ${AUTH_WEB3AUTH_CLIENT_SECRET:}
      issuer: ${AUTH_WEB3AUTH_ISSUER:https://auth.status-mvp.local}
      audience: ${AUTH_WEB3AUTH_AUDIENCE:status-mvp}
      keyId: ${AUTH_WEB3AUTH_KEY_ID:status-mvp-auth-v1}
      privateKeyPem: ${AUTH_WEB3AUTH_PRIVATE_KEY_PEM:}
    appJwt:
      issuer: ${AUTH_APP_JWT_ISSUER:status-mvp-price-backend}
      audience: ${AUTH_APP_JWT_AUDIENCE:status-mvp-app}
      secret: ${AUTH_APP_JWT_SECRET:replace-me-dev-secret-at-least-32-bytes}
    x:
      clientId: ${AUTH_X_CLIENT_ID:}
      clientSecret: ${AUTH_X_CLIENT_SECRET:}
      redirectUri: ${AUTH_X_REDIRECT_URI:}
      scopes: ${AUTH_X_SCOPES:tweet.read users.read offline.access}
      authorizeEndpoint: ${AUTH_X_AUTHORIZE_ENDPOINT:https://twitter.com/i/oauth2/authorize}
      tokenEndpoint: ${AUTH_X_TOKEN_ENDPOINT:https://api.twitter.com/2/oauth2/token}
      userinfoEndpoint: ${AUTH_X_USERINFO_ENDPOINT:https://api.twitter.com/2/users/me}
    tg:
      botToken: ${AUTH_TG_BOT_TOKEN:}
      authMaxAgeSeconds: ${AUTH_TG_AUTH_MAX_AGE_SECONDS:600}
    risk:
      blacklistIps: ${AUTH_RISK_BLACKLIST_IPS:}
      blacklistProviderSubs: ${AUTH_RISK_BLACKLIST_PROVIDER_SUBS:}
      loginIpLimit: ${AUTH_RISK_LOGIN_IP_LIMIT:20}
      loginDeviceLimit: ${AUTH_RISK_LOGIN_DEVICE_LIMIT:30}
      bindAccountLimit: ${AUTH_RISK_BIND_ACCOUNT_LIMIT:20}
      windowSeconds: ${AUTH_RISK_WINDOW_SECONDS:60}
  bridge:
    across:
      apiBaseUrl: ${BRIDGE_ACROSS_API_BASE_URL:https://app.across.to/api}
      timeoutMs: ${BRIDGE_ACROSS_TIMEOUT_MS:12000}
      chainsCacheTtlSeconds: ${BRIDGE_ACROSS_CHAINS_CACHE_TTL_SECONDS:300}
      routesCacheTtlSeconds: ${BRIDGE_ACROSS_ROUTES_CACHE_TTL_SECONDS:60}
      allowlistMode: ${BRIDGE_ACROSS_ALLOWLIST_MODE:STRICT}
      allowedChainIds: ${BRIDGE_ACROSS_ALLOWED_CHAIN_IDS:1,10,42161,8453,56}
      allowedTokenSymbols: ${BRIDGE_ACROSS_ALLOWED_TOKEN_SYMBOLS:ETH,USDC,USDT,DAI,USDC-BNB,USDT-BNB}
  portfolio:
    ankrBaseUrl: ${ANKR_BASE_URL:https://rpc.ankr.com/multichain}
    ankrApiKey: ${ANKR_API_KEY:8ab456e0616fa58794745f952b83f719e7ea3af2d0c9cbac69b8f22323563de7}
    timeoutMs: ${PORTFOLIO_TIMEOUT_MS:12000}
    requestTtlSeconds: ${PORTFOLIO_REQUEST_TTL_SECONDS:30}
    defaultChainIds: ${PORTFOLIO_DEFAULT_CHAIN_IDS:1,10,56,8453,42161}
  bsc:
    rpcUrl: ${BSC_RPC_URL:}
  dex:
    pancake:
      routerAddress: ${PANCAKE_ROUTER_V2_ADDRESS:0x10ED43C718714eb63d5aA57B78B54704E256024E}
    veilx:
      address: ${VEILX_CONTRACT_ADDRESS:}
    usdt:
      address: ${BSC_USDT_CONTRACT_ADDRESS:0x55d398326f99059fF775485246999027B3197955}
  coingecko:
    # Additional/override symbol->CoinGecko id mappings.
    # Format: SYMBOL=id,SYMBOL2=id2
    symbolIdOverrides: ${COINGECKO_SYMBOL_ID_OVERRIDES:}
  cors:
    allowedOrigins: ${CORS_ALLOWED_ORIGINS:*}
  legal:
    termsUrl: ${LEGAL_TERMS_URL:}
    privacyUrl: ${LEGAL_PRIVACY_URL:}
    appName: ${LEGAL_APP_NAME:Veil Wallet}
    entityName: ${LEGAL_ENTITY_NAME:VeilLabs}
    contactEmail: ${LEGAL_CONTACT_EMAIL:veillabs.wallet@gmail.com}
    contactAddress: ${LEGAL_CONTACT_ADDRESS:香港九龙区}
    effectiveDate: ${LEGAL_EFFECTIVE_DATE:2026-02-20}
    governingLaw: ${LEGAL_GOVERNING_LAW:Laws of the Hong Kong Special Administrative Region}
    governingLawZh: ${LEGAL_GOVERNING_LAW_ZH:香港特别行政区法律}

logging:
  level:
    root: INFO

management:
  endpoint:
    health:
      show-details: never
    prometheus:
      enabled: true
  endpoints:
    web:
      exposure:
        include: health,info,prometheus


